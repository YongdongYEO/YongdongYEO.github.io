<!----------------------------------------------------------------------------
|        _______       _    _                     _____                      |
|       |__   __|   _ | |  | |                   |  __ \                     |
|          | |     (_)| |__| |                   | |__) |         _          |
|          | | __ _ _ |  __  |_   _ _   _ _ __   |  ___/__ _ _ __| | __      |
|       _  | |/ _` | || |  | | | | | | | | `_ \  | |   / _` | '__| |/ /      |
|      / |_| | (_| | || |  | | |_| | |_| | | | | | |  | (_| | |  |   <       |
|      \____/ \__,_|_||_|  |_|\__  |\__,_|_| |_| |_|   \__,_|_|  |_|\_\      |
|                            ,._/ /                                          |
|      jhyunp@snu.ac.kr      \___/           https://jaihyunp.github.io      |
|                                                                            |
----------------------------------------------------------------------------->
<!----------------------------------------------------------------------------
MIT License

Copyright (c) 2019-2020 Jai Hyun Park

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
----------------------------------------------------------------------------->


<!DOCTYPE html>
<html lang="en" style='display:none'>

<head>
    <base href='/'/>

    <noscript><meta http-equiv="refresh" content="0;url=noscript.html"></noscript>

    <!-- meta set -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- title -->
    <title>iDASH 2020</title>
    <link rel='stylesheet' href='css/style.css'></link>
    <link rel='shortcut icon' href='assets/icons/logo-fill.png' type='image/x-icon'></link>

</head>

<body>

    <div class='load-menubar' style='z-index:999;width:100%'></div>
    <!-- <div class='_overlay' style='width:100%;height:90px;z-index:990;background-color:rgb(24,24,32)'></div> -->

    <!-- header -->
    <header class="_track post-head tall-header" id='header'  style='background-image:url(assets/imgs/20191005_200341-min.jpg)'>
        <div class='_overlay' style='background-color:rgba(24,24,32,0.8)'></div>

        <div class='narrow-piece post-info'>
            <p class='post-publish' id='post-publish'>
                DEC 30, 2020 • <a href='http://jaihyunp.github.io/'>JAIHYUN</a>
            </p>
            <div class='post-title' id='post-title'>
                <p class='kor'>iDASH 2020</p>
            </div>
            <ul class='post-keywords' id='post-keywords'>
                <li class='post-keyword'><a href='tags.html#cryptology'>cryptology</a></li>
                <li class='post-keyword'><a href='tags.html#iDASH'>iDASH</a></li>
            </ul>
            <!-- <p class='update-time post-update'></p> -->
        </div>

    </header>
    <div class="_see-more">
        <div class='eng'>
            See more
        </div>
        <div class='kor'>
            더 보기
        </div>
        <img src = 'assets/icons/arrow-down.png'/>
    </div>

    
    <!-- contents -->
    <div class="_contents">

        <!-- __ OPTIONAL: navigation __ -->
        <nav class="kor _nav-bar _navbar-collapse">
            <div class="_toggle"></div>
            <ul class="_nav-menu">
                <li class="idash">iDASH</li>
                <li class="my-journey">일지</li>
                <li class="further">우승</li>
                <li class="post-footer-comment">댓글</li>
            </ul>
            <div class="_toggle2"></div>
        </nav>

        <div class='section-updown'><div class='section-up'>∧</div><div class='section-top'></div><div class='section-down'>∨</div></div>
        <hr style='border:none!important'>

        <div class='post-body'>
            <section class='big-piece'>
                <div class='post-abstract' id='post-abstract'>
                    <p class='kor'>
                        우와, 내 첫 포스트다! 생각, 추억, 지식을 저장하고 표현하기 위해 블로그를 시작한다. 심지어 직접 코딩한 개인 페이지다. 물론, 여전히 계획 및 보완 중인 점들도 많다.
                    </p>
                    <p class='eng'>
                        Wow, it is my first blog post! I start a blog to express and store my thoughts, memories and knowledge. To put it mindly, this blog has been coded by myself! Of course, there are still many things being planned and supplemented though.
                    </p>
                </div>
            </section>
            
            <section class = 'wide-piece _track' id='idash'>
                <h3 class='kor'>iDASH 대회: 암호화된 의료정보 처리</h3>
                <p class='kor'>
                    iDASH는 미국 국립보건원 (National Institutes of Health; NIH)에서 주관하는 국제 유전자정보분석 보안경진대회다.
                    나는 서울대학교 팀의 멤버로 iDASH 2020 Track 1에서 <b>공동 1위</b>를 차지했다.
                    특히 내 팀은 참가팀들 중 가장 높은 정확도 (micro AUC)를 달성했다.
                </p>

                <p class='kor'>
                    iDASH 대회는 의료정보들을 안전하게 분석해내는 태스크의 대회이다.
                    의료정보는 민감한 개인정보를 포함하고 있어서, 안전하게 보관하는 것이 필요하다. 
                    따라서 대부분 데이터를 암호화하여 보관하는데, 그 경우 데이터 분석이 일반적으로 어려워진다.
                    이를 극복하고 데이터를 안전하게 보관함과 동시에 안전하게 분석하기 위한 방법들이 활발하게 연구되고 있다. 
                    iDASH 대회는 이러한 연구를 실제 의료정보들에 적용해 안전하게 분석하는 태스크를 포함하고 있다.
                </p>

                <h6 class='kor'>iDASH 2020 트랙 1</h6>
                <p class='kor'>
                    iDASH 2020 트랙 1의 주제는 "동형암호를 이용해 안전하게 종양의 종류를 분류해내기" (Secure multi-label Tumor classification using Homomorphic Encryption)였다. 
                    종양이 있는 환자의 암호화된 정보들을 토대로, 종양의 종류를 안전하게 분류해내는 것이 태스크의 목표다. 
                    각 팀은 제공된 실제 의료 데이터를 활용해 모델을 만들어 제출한다. 그 다음, 제출된 모델을 공개되지 않은 암호화된 다른 의료 데이터에 적용시켜 제한된 시간 (5분) 내에 종양을 얼마나 정확하게 분류하는지 측정해 경쟁하는 대회이다. 
                </p>
                <p class='kor'>
                    특히 이 태스크는 구체적으로 동형암호라는 암호화기법을 사용하라고 제시했다. 
                    동형암호란 암호화된 상태에서 암호문 간의 덧셈, 곱셈 등 일부 연산들을 지원하는 암호화 기법을 말한다. 
                    동형암호는 암호화된 상태로 데이터 분석을 가능하게 해주지만,
                    지원하는 연산이 제한되어 있고 계산 속도가 느리다는 단점을 갖는다. 
                    따라서 이 트랙의 핵심은 정확하면서도 동형암호에 친화적인 알고리즘을 만들어내는 것이다.
                </p>
            </section>


            <section class='_track wide-piece' id='my-journey'>
                <h3 class='kor'>80일간의 여정</h3>
                <p class='kor'>
                    나는 서울대학교 팀의 일원으로 iDASH 2020 Track 1에 참가했다. 프로젝트는 8월 중순부터 11월 초까지 약 80일간 진행됐다.
                </p>

                <h6 class='kor'>킥 오프</h6>
                <p class='kor'>
                    참가는 8월에 결정했다. 8월 중순에 태스크와 데이터셋을 살펴봤고, 8월 말에 로지스틱 회귀 (logistic regression)을 이용한 나이브한 방법을 구현해서 팀원들에게 공유했다. 
                    태스크가 멀티 라벨(multi-label) 문제였기 때문에, 각 라벨 별로 로지스틱 회귀를 시행하여 결과를 종합하여 예측하게 했다. 
                    생각보다 성능이 만족스럽지 않았는데, 기록해두진 않았지만 정확도가 50~60% 정도 되었던 것 같다. (당시엔 AUC는 따로 측정하지 않았다)
                </p>

                <h6 class='kor'>더 좋은 알고리즘을 찾아서</h6>
                <p class='kor'>
                    9월부터는 팀원들과 함께 관련 기존 연구들을 탐색했고, 더 다양한 알고리즘들을 고안하며 구현했다. 
                    로지스틱 회귀 뿐 아니라 뉴럴 네트워크까지 폭 넓게 실험을 진행했다.
                    마침내 10월 중순 즈음에 1차적으로 알고리즘을 확정지었다. 
                    내 팀의 1차 알고리즘은 학습단계에서 유전자 복제수 (copy number) 정보 중 클러스터 기법을 이용해 유의미한 항목들을 추려냈고, 
                    추려낸 항목들을 이용해 깊이 1인 뉴럴 네트워크를 사용했다. 
                    추론단계에서는 해당 항목들의 정보를 참고해 깊이 1인 뉴럴 네트워크를 추론했다 (즉, 행렬곱 1회를 했다).
                    이 때의 micro-AUC 값은 0.93 언저리였다. 
                    보안을 생각하지 않으면 AUC를 더 높일 수 있을 것 같아서 여전히 욕심은 났다.
                </p>
                <p class='kor'>
                    재밌는 점은 클러스터 기법을 통해 유의미한 항목들만 추려내는 과정이 속도와 성능 모두를 향상시켰다는 점이다. 
                    이 아이디어는 사실 기존 연구 
                    (<a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-016-1334-9">링크1</a>, 
                    <a href="https://www.nature.com/articles/s41598-019-53989-3">링크2</a>)
                    에서 따왔다. 
                    유전자 복제수 정보는 인접한 유전자에서 거의 유사했기 때문에, 클러스터 기법은 중복된 정보들을 지워주는 효과를 줬다. 
                    이를 통해 속도가 매우 빨라졌고, 성능 역시 유의미하게 좋아졌다
                    (개인적으로 성능이 좋아진 이유를 아직도 정확히 이해하지 못하고 있는데, 불필요한 중복 데이터가 제거되어 그렇다고 받아들이고 있다).
                </p>

                <h6 class='kor'>스퍼트</h6>
                <p class='kor'>
                    하지만 마지막 1주일동안 내 팀의 알고리즘은 매우 많이 바뀌었다. 
                    크게 두 가지 관점에서 개선을 이루었다. 
                    첫 번째로는 더 많은 유의미한 정보를 사용했고, 두 번째로는 소프트맥스 레이어를 추가했다. 
                    이 두 가지 개선은 더 많은 계산을 요구했지만, 성능을 명백히 높혀줬다.
                </p>
                <p class='kor'>
                    첫 번째 변화는 생명과학부 교수님의 조언에서 나왔다. 
                    10월 중순, 내 팀은 진행내용을 지도교수님께 논의했고, 10월 말에 생명과학부 교수님께 자문을 구했다. 
                    그 결과 생물학계에서는 우리가 사용하지 않은 돌연변이 정보들을 활용하는 것이 일반적이라는 것을 알게 됐다. 
                    돌연변이 정보들은 우리가 사용했던 유전자 복제수 정보와 형식이나 특징이 달랐고, 이를 위해 알고리즘을 대폭 수정해야 했다. 
                    특히 클러스터 기법 등을 탐색하고 튜닝하는 작업이 꽤 고됐다.
                </p>
                <p class='kor'>
                    두 번째로, 소프트맥스 레이어를 추가했다. 
                    동형암호는 제한된 연산만을 지원하기 때문에, 소프트맥스 레이어를 동형암호로 계산하기 위해서는 약간의 튜닝이 필요하다. 
                    처음에는 내가 2019년 SAC에 냈던 논문의 아이디어를 따와서 제안했는데 (<a href="http://eprint.iacr.org/2019/465">링크</a>), 이번 연구를 통해 사실 이 방법이 실제로 소프트맥스를 잘 근사함을 수학적으로 분석할 수 있었다. 
                    결과적으로 소프트맥스 레이어를 암호화된 상태에서 비교적 합리적으로 계산할 수 있었다. 
                </p>
                <p class='kor'>
                    마지막 1주일은 이러한 급격한 알고리즘 개선들과 정교한 코딩을 동시에 병행했기에 정말 힘들었다. 
                    특히 동형암호 코딩 및 파라미터 튜닝은 굉장히 섬세한 작업이었다. 
                    나를 포함해 주도적으로 프로젝트에 참가했던 몇 팀원들은 거의 매일 야근을 하며 밤샘 코딩까지 해야 했다. 
                    마침내 우리의 최종 모델은 0.9996의 micro AUC를 보였고, 이제는 최종 데이터에 따라 승패가 갈릴 수준이 되게 되었다. 
                </p>

            </section>
    

            <section class='_track wide-piece' id='result'>
                <h3 class='kor'>우승</h3>
                <p class='kor'>
                    내 팀은 iDASH 2020 Track 1에서 우승했다. 
                    우승팀은 내가 속한 서울대학교 팀을 포함해, A*STAR, Desilo, SamsungSDS 로 총 4팀이었다. 
                    서울대학교 팀은 micro AUC가 0.9858이었고, 다른 팀은 각각 0.9775, 0.9775, 0.9745였다. 
                    대신 서울대학교 팀이 다른 팀에 비해 소요 시간이 컸고 (제한 시간이었던 5분을 거의 모두 사용했다), 이를 감안해 공동우승을 받게 됐다. 
                    마지막 1주일의 개선점들이 실제로 더 많은 시간을 사용했지만, 그만큼 정확도를 올렸음을 확인한 셈이다. 
                    이전 iDASH 대회에서는 시간을 평가기준에 넣지 않았었기에 조금은 심술이 나기도 하다.
                    하지만 뭐 어떤가, 내 팀은 우승했다!
                </p>
                <p class='kor'>
                    이번 iDASH 2020은 내 스스로도 꽤 많은 노력과 시간을 쏟았고, 또한 연구실 팀원들과 함께 끝마친 사실상 첫 프로젝트라는 점에서 아주 기억에 남을 것 같다. 
                    돌이켜보면, 마지막에 팀원들과 함께 밤샘코딩을 하며 연구하던 순간들은 꽤 즐거웠다.  
                    태스크가 암호학보다는 코딩에 초점이 맞춰져있어서 수학전공인 나와 팀원들에겐 꽤 도전적인 대회였는데, 성과가 좋아서 참 기쁘다. 
                    향후 코딩 측면의 강점을 더 강화하고 싶다는 다짐을 준 프로젝트였다. 
                </p>
            </section>


        </div>

        <div class='load-post-footer wide-piece _track' id='post-footer-comment'></div>
        <div class='wide-piece' id="disqus_thread"></div>
    </div>

    <!-- footer -->
    <footer class="load-footer" id='footer'></footer>


    <!-- javascript -->
    <script src= "js/jquery.js"></script>
    <script src='js/javascript.js'></script>
    <script>
        var disqus_config = function () {
        this.page.url = 'https://jaihyunp.github.io/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'idash2020'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://https-jaihyunp-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>
    <script id="dsq-count-scr" src="//https-jaihyunp-github-io.disqus.com/count.js" async></script>

</body>
