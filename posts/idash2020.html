<!----------------------------------------------------------------------------
|        _______       _    _                     _____                      |
|       |__   __|   _ | |  | |                   |  __ \                     |
|          | |     (_)| |__| |                   | |__) |         _          |
|          | | __ _ _ |  __  |_   _ _   _ _ __   |  ___/__ _ _ __| | __      |
|       _  | |/ _` | || |  | | | | | | | | `_ \  | |   / _` | '__| |/ /      |
|      / |_| | (_| | || |  | | |_| | |_| | | | | | |  | (_| | |  |   <       |
|      \____/ \__,_|_||_|  |_|\__  |\__,_|_| |_| |_|   \__,_|_|  |_|\_\      |
|                            ,._/ /                                          |
|      jhyunp@snu.ac.kr      \___/           https://jaihyunp.github.io      |
|                                                                            |
----------------------------------------------------------------------------->
<!----------------------------------------------------------------------------
MIT License

Copyright (c) 2019-2020 Jai Hyun Park

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
----------------------------------------------------------------------------->


<!DOCTYPE html>
<html lang="en" style='display:none'>

<head>
    <base href='/'/>

    <noscript><meta http-equiv="refresh" content="0;url=noscript.html"></noscript>

    <!-- meta set -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- title -->
    <title>iDASH 2020</title>
    <link rel='stylesheet' href='css/style.css'></link>
    <link rel='shortcut icon' href='assets/icons/logo-fill.png' type='image/x-icon'></link>

</head>

<body>

    <div class='load-menubar' style='z-index:999;width:100%'></div>
    <!-- <div class='_overlay' style='width:100%;height:90px;z-index:990;background-color:rgb(24,24,32)'></div> -->

    <!-- header -->
    <header class="_track post-head tall-header" id='header'  style='background-image:url(assets/imgs/20191005_200341-min.jpg)'>
        <div class='_overlay' style='background-color:rgba(24,24,32,0.8)'></div>

        <div class='narrow-piece post-info'>
            <p class='post-publish' id='post-publish'>
                DEC 30, 2020 • <a href='http://jaihyunp.github.io/'>JAIHYUN</a>
            </p>
            <div class='post-title' id='post-title'>
                <p class='kor'>iDASH 2020</p>
                <p class='eng'>iDASH 2020</p>
            </div>
            <ul class='post-keywords' id='post-keywords'>
                <li class='post-keyword'><a href='tags.html#cryptology'>cryptology</a></li>
                <li class='post-keyword'><a href='tags.html#iDASH'>iDASH</a></li>
            </ul>
            <!-- <p class='update-time post-update'></p> -->
        </div>

    </header>
    <div class="_see-more">
        <div class='eng'>
            See more
        </div>
        <div class='kor'>
            더 보기
        </div>
        <img src = 'assets/icons/arrow-down.png'/>
    </div>

    
    <!-- contents -->
    <div class="_contents">

        <!-- __ OPTIONAL: navigation __ -->
        <nav class="kor _nav-bar _navbar-collapse">
            <div class="_toggle"></div>
            <ul class="_nav-menu">
                <li class="idash">iDASH</li>
                <li class="my-journey">여정</li>
                <li class="result">우승</li>
                <li class="post-footer-comment">댓글</li>
            </ul>
            <div class="_toggle2"></div>
        </nav>
        <nav class="eng _nav-bar _navbar-collapse">
            <div class="_toggle"></div>
            <ul class="_nav-menu">
                <li class="idash">iDASH</li>
                <li class="my-journey">Journey</li>
                <li class="result">Winning</li>
                <li class="post-footer-comment">Comments</li>
            </ul>
            <div class="_toggle2"></div>
        </nav>

        <div class='section-updown'><div class='section-up'>∧</div><div class='section-top'></div><div class='section-down'>∨</div></div>
        <hr style='border:none!important'>

        <div class='post-body'>
            <section class='big-piece'>
                <div class='post-abstract' id='post-abstract'>
                    <p class='kor'>
                        iDASH 2020에 서울대학교 팀으로 참가하여 1위를 차지했다. 
                        iDASH는 미국 국립보건원에서 주관하는 국제 유전자정보분석 보안경진대회다. 
                        그 중 Track1에 참가하여 개인정보 유출 없이 안전하게 종양의 종류를 분류하는 태스크를 수행했다. 
                        내 팀은 0.9858로 참가팀 중 가장 높은 micro AUC를 달성했다.
                    </p>
                    <p class='eng'>
                        I took the first place in iDASH 2020 as a member of Team Seoul National University (SNU).
                        IDASH is an international security competition for the genetic analysis that organized by the National Institutes of Health (NIH). 
                        In iDASH2020, my team participated in the track 1 and performed a task of privacy-preserving classification of tomors from the encrypted data without leaking any private information. 
                        My team achieved the highest micro AUC: 0.9858. 
                    </p>
                </div>
            </section>
            
            <section class = 'wide-piece _track' id='idash'>
                <h3 class='kor'>iDASH: 암호화된 의료정보 처리</h3>
                <h3 class='eng'>iDASH: privacy-preserving analysis of medical data</h3>
                <p class='kor'>
                    <iDASH는 href="http://www.humangenomeprivacy.org/">iDASH</a>는 미국 국립보건원 (National Institutes of Health; NIH)에서 주관하는 국제 유전자정보분석 보안경진대회다.
                    나는 서울대학교 팀의 멤버로 iDASH 2020 Track 1에서 <b>공동 1위</b>를 차지했다.
                    특히 내 팀은 참가팀들 중 가장 높은 정확도 (micro AUC)를 달성했다.
                </p>
                <p class='eng'>
                    <a href="http://www.humangenomeprivacy.org/">IDASH</a> is an international security competition for the genetic analysis that organized by the National Institutes of Health (NIH). 
                    As a member of team Seoul National University (SNU), I won <b>(joint) first place</b> in iDASH 2020 track 1.
                    In particular, my team achieved the highest accuracy (micro AUC) among the participating teams.
                </p>

                <p class='kor'>
                    iDASH 대회는 의료정보들을 안전하게 분석해내는 태스크의 대회이다.
                    의료정보는 민감한 개인정보를 포함하고 있어서, 안전하게 보관하는 것이 필요하다. 
                    따라서 대부분 데이터를 암호화하여 보관하는데, 그 경우 데이터 분석이 일반적으로 어려워진다.
                    이를 극복하고 데이터를 안전하게 보관함과 동시에 안전하게 분석하기 위한 방법들이 활발하게 연구되고 있다. 
                    iDASH 대회는 이러한 연구를 실제 의료정보들에 적용해 안전하게 분석하는 태스크를 포함하고 있다.
                </p>
                <p class='eng'>
                    The goal of this competition is to safely analysing medical information without leaking any private information. 
                    Medical information includes sensitive personal information, so it is necessary to keep it secure.
                    Thus, it is prevalent to store the medical data in encrypted state; however, it generally makes the data analysis difficult. 
                    In order to address that issue, there has been many cryptographic researches for privacy-preserving data analysis.
                    IDASH competition comprises the tasks of safely analyzing the real-world medical information by utilizing these researches.
                </p>

                <h6 class='kor'>iDASH 2020 트랙 1</h6>
                <h6 class='eng'>iDASH 2020 Track 1</h6>
                <p class='kor'>
                    내가 참가한 iDASH 2020 트랙 1의 주제는 "동형암호를 이용해 안전하게 종양의 종류를 분류해내기" (Secure multi-label Tumor classification using Homomorphic Encryption)였다. 
                    종양이 있는 환자의 암호화된 정보들을 토대로, 종양의 종류를 안전하게 분류해내는 것이 태스크의 목표다. 
                    각 팀은 제공된 실제 의료 데이터를 활용해 모델을 만들어 제출한다. 그 다음, 제출된 모델을 공개되지 않은 암호화된 다른 의료 데이터에 적용시켜 제한된 시간 (5분) 내에 종양을 얼마나 정확하게 분류하는지 측정해 경쟁하는 대회이다. 
                </p>
                <p class='eng'>
                    I participated in the track 1: Secure multi-label Tumor classification using Homomorphic Encryption.
                    The goal of this track is to develop multi-label classification method for predicting the classes of tumor samples based on genetic information in encrypted state.
                    Each participating team submitted their model which had learned by provided real-world medical information.
                    It is then a competition in which the submitted model is applied to other unannounced encrypted medical data to measure how accurately the tumor is classified within a limited time (5 minutes).
                </p>

                <p class='kor'>
                    특히 이 태스크는 구체적으로 동형암호라는 암호화기법을 사용하라고 제시했다. 
                    동형암호란 암호화된 상태에서 암호문 간의 덧셈, 곱셈 등 일부 연산들을 지원하는 암호화 기법을 말한다. 
                    동형암호는 암호화된 상태로 데이터 분석을 가능하게 해주지만,
                    지원하는 연산이 제한되어 있고 계산 속도가 느리다는 단점을 갖는다. 
                    따라서 이 트랙의 핵심은 정확하면서도 동형암호에 친화적인 알고리즘을 만들어내는 것이다.
                </p>
                <p class='eng'>
                    In particular, the task suggests using homomorphic encryption.
                    Homomorphic encryption is the encryption technique that supports some operations, such as addition and multiplication between ciphertexts, without decpryion process.
                    Homomorphic encryption enables the data analysis in encrypted state; 
                    however, it accompanies disadvantages of limited supporting operations and computational overhead.
                    Therefore, the key of this track is to develop an accurate, efficient and homomorphic-encryption-friendly method.
                </p>
            </section>


            <section class='_track wide-piece' id='my-journey'>
                <h3 class='kor'>80일간의 여정</h3>
                <h3 class='eng'>An 80-day journey</h3>
                <p class='kor'>
                    나는 서울대학교 팀의 일원으로 iDASH 2020 Track 1에 참가했다. 프로젝트는 8월 중순부터 11월 초까지 약 80일간 진행됐다.
                </p>
                <p class='eng'>
                    I participated in iDASH 2020 Track 1 as a member of team SNU. The project lasted about 80 days from mid-August to early November.
                </p>

                <h6 class='kor'>킥 오프</h6>
                <h6 class='eng'>Kick off</h6>
                <p class='kor'>
                    참가는 8월에 결정했다. 8월 중순에 태스크와 데이터셋을 살펴봤고, 8월 말에 로지스틱 회귀 (logistic regression)을 이용한 나이브한 방법을 구현해서 팀원들에게 공유했다. 
                    태스크가 멀티 라벨(multi-label) 문제였기 때문에, 각 라벨 별로 로지스틱 회귀를 시행하여 결과를 종합하여 예측하게 했다. 
                    생각보다 성능이 만족스럽지 않았는데, 기록해두진 않았지만 정확도가 50~60% 정도 되었던 것 같다. (당시엔 AUC는 따로 측정하지 않았다)
                </p>
                <p class='eng'>
                    I decided to participate in August. In mid-August, I looked at the task and datasets, and at the end of August, I implemented a naive method using logistic regression and shared it with my team member.
                    Since the task is a multi-label problem, I perform logistic regression method to each label and predict the type of tumors by aggregating the results of logistic regression methods.
                    To be honest, the performance was not as satisfactory as I expected; I didn't record it, but I think the accuracy was about 50 to 60% (I did not measure the micro AUC at that time).
                </p>

                <h6 class='kor'>더 좋은 알고리즘을 찾아서</h6>
                <h6 class='eng'>Towards better methods</h6>
                <p class='kor'>
                    9월부터는 팀원들과 함께 관련 기존 연구들을 탐색했고, 더 다양한 알고리즘들을 고안하며 구현했다. 
                    로지스틱 회귀 뿐 아니라 뉴럴 네트워크까지 폭 넓게 실험을 진행했다.
                    마침내 10월 중순 즈음에 1차적으로 알고리즘을 확정지었다. 
                    내 팀의 1차 알고리즘은 학습단계에서 유전자 복제수 (copy number) 정보 중 클러스터 기법을 이용해 유의미한 항목들을 추려냈고, 
                    추려낸 항목들을 이용해 깊이 1인 뉴럴 네트워크를 사용했다. 
                    추론단계에서는 해당 항목들의 정보를 참고해 깊이 1인 뉴럴 네트워크를 추론했다 (즉, 행렬곱 1회를 했다).
                    이 때의 micro-AUC 값은 0.93 언저리였다. 
                </p>
                <p class='eng'>
                    Since September, I and my team has explored related studies and exprimented more various methods.
                    We conducted extensive experiments not only on logistic regression but also on the neural network.
                    Finally, around mid-October, the algorithm was first confirmed.
                    In the learning phase, my team's primary algorithm exploited the cluster analysis to extract genes with the meaningful copy number.
                    Then it trained a neural network of depth 1 with the copy numbers of selected genes.
                    In the inference phase, we applied the trained neural network of depth 1 (i.e., all it did is just one matrix multiplication).
                    The micro-AUC value of our primary algorithm was 0.93.
                </p>

                <p class='kor'>
                    재밌는 점은 클러스터 기법을 통해 유의미한 항목들만 추려내는 과정이 속도와 성능 모두를 향상시켰다는 점이다. 
                    이 아이디어는 기존 관련 연구 
                    (<a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-016-1334-9">링크1</a>, 
                    <a href="https://www.nature.com/articles/s41598-019-53989-3">링크2</a>)
                    에서 따왔다. 
                    유전자 복제수 정보는 인접한 유전자에서 거의 유사했기 때문에, 클러스터 기법은 중복된 정보들을 지워주는 효과를 줬다. 
                    이를 통해 속도가 매우 빨라졌고, 성능 역시 유의미하게 좋아졌다
                    (개인적으로 성능이 좋아진 이유를 아직도 정확히 이해하지 못하고 있는데, 불필요한 중복 데이터가 제거되어 그렇다고 받아들이고 있다).
                </p>
                <p class='eng'>
                    The fun point here is that the cluster analysis improves both speed and performance. 
                    This idea is basically from the related researches
                    (<a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-016-1334-9">link1</a>, 
                    <a href="https://www.nature.com/articles/s41598-019-53989-3">link2</a>). 
                    Since the copy number was almost identical in the neighboring genes, the cluster technique had the effect of erasing the redundant information. 
                    This had made the algorithm faster and more accurate substantially 
                    (Frankly, I still don't understand exactly why the performance have been improved; I just think it as a positive outcome from the removal of unnecessary redundant data).
                </p>

                <h6 class='kor'>스퍼트</h6>
                <h6 class='eng'>Final Spurt</h6>
                <p class='kor'>
                    하지만 마지막 1주일동안 내 팀의 알고리즘은 매우 많이 바뀌었다. 
                    크게 두 가지 관점에서 개선을 이루었다. 
                    첫 번째로는 더 많은 유의미한 정보를 사용했고, 두 번째로는 소프트맥스 레이어를 추가했다. 
                    이 두 가지 개선은 더 많은 계산을 요구했지만, 성능을 명백히 높혀줬다.
                </p>
                <p class='eng'>
                    But in the last final one week, my team's algorithm has changed very very much.
                    There were two main points. 
                    First, we used more various meaningful pieces of information.
                    Second, we attached the softmax layer.
                    Even though these two modification required more computations, it definitely advanced the performance.
                </p>
                <p class='kor'>
                    첫 번째 변화는 생명과학부 교수님의 조언에서 나왔다. 
                    10월 중순, 내 팀은 진행내용을 지도교수님께 논의했고, 10월 말에 생명과학부 교수님께 자문을 구했다. 
                    그 결과 생물학계에서는 우리가 사용하지 않은 돌연변이 정보들을 활용하는 것이 일반적이라는 것을 알게 됐다. 
                    돌연변이 정보들은 우리가 사용했던 유전자 복제수 정보와 형식이나 특징이 달랐고, 이를 위해 알고리즘을 대폭 수정해야 했다. 
                    특히 돌연변이 정보들을 위한 새로운 클러스터 기법 등을 탐색하고 튜닝하는 작업이 꽤 고됐다.
                </p>
                <p class='eng'>
                    The first modification came from the advice of a professor in biological sciences department. 
                    In mid-October, my team discussed the progress with our advisor, and in late October, we also consulted a professor in biological sciences department.
                    And my team find it common in the biological field to use mutant information that we didn't use.
                    The mutant information was different in form and characteristics from the copy number information we used, so the algorithm had to be greatly modified to use it.
                    In particular, devloping a new cluster techniques for mutant information was quite picky.
                </p>
                <p class='kor'>
                    두 번째로, 소프트맥스 레이어를 추가했다. 
                    동형암호는 제한된 종류의 연산만을 지원하기 때문에, 소프트맥스 레이어를 동형암호로 계산하기 위해서는 추가적인 연구가 필요했다. 
                    내가 2019년 SAC에 냈던 논문의 아이디어를 따와서 방법을 제안했는데 (<a href="http://eprint.iacr.org/2019/465">링크</a>), 이번 연구를 통해 사실 이 방법이 실제로 소프트맥스를 잘 근사함을 수학적으로 분석할 수 있었다. 
                    결과적으로 소프트맥스 레이어를 암호화된 상태에서 비교적 합리적으로 계산할 수 있었다. 
                </p>
                <p class='eng'>
                    Second, we attached the softmax layer.
                    Since homomorphic encryption only supports a limited types of operations, there should be further research to compute softmax layer based on homomorphic encryption. 
                    I proposed a method based on the idea of a paper I published at SAC 2019; and during this project, I and my team could mathematically analyze that this method approximates softmax well indeed.
                    As a result, the softmax layer could be calculated reasonably in encrypted state.
                </p>
                <p class='kor'>
                    마지막 1주일은 이러한 급격한 알고리즘 개선들과 정교한 코딩을 동시에 병행했기에 정말 힘들었다. 
                    특히 동형암호 코딩 및 파라미터 튜닝은 굉장히 섬세한 작업이었다. 
                    나를 포함해 주도적으로 프로젝트에 참가했던 몇 팀원들은 거의 매일 야근을 하며 밤샘 코딩까지 해야 했다. 
                    마침내 우리의 최종 모델은 0.9996의 micro AUC를 보였고, 이제는 최종 데이터에 따라 승패가 갈릴 수준이 되게 되었다. 
                </p>
                <p class='eng'>
                    The final one week was really hard because of these rapid algorithmic improvements and the sophisticated programming.
                    Especially, the parameter tuning and the programmig based on homomorphic encryption had to be very careful.
                    Several team members, including myself, who took the initiative in the project, had to work overtime almost every day and even code overnight.
                    Finally, our final model showed a micro AUC of 0.9996 and now it was at a level where the final data would determine the rank.
                </p>

            </section>
    

            <section class='_track wide-piece' id='result'>
                <h3 class='kor'>우승</h3>
                <h3 class='eng'>Winning the first place</h3>
                <p class='kor'>
                    내 팀은 <b>iDASH 2020 Track 1에서 우승</b>했다. 
                    우승팀은 내가 속한 서울대학교 팀을 포함해, A*STAR, Desilo, SamsungSDS 로 총 4팀이었다. 
                    서울대학교 팀은 <b>micro AUC가 0.9858로 가장 높았고</b>, 다른 팀은 각각 0.9775, 0.9775, 0.9745였다. (아래 표는 <a href="http://www.humangenomeprivacy.org/2020/agenda.html">iDASH 홈페이지</a>에서 가져왔다)
                    대신 서울대학교 팀이 다른 팀에 비해 소요 시간이 컸고 (제한 시간이었던 5분을 거의 모두 사용했다), 이를 감안해 공동우승을 받게 됐다. 
                    마지막 1주일의 개선점들이 실제로 더 많은 시간을 사용했지만, 그만큼 정확도를 올렸음을 확인한 셈이다. 
                    이전 iDASH 대회들에서는 시간을 평가기준에 넣지 않았었기에 조금은 씁쓸했다.
                    하지만 뭐 어떤가, 내 팀은 우승했다!
                </p>
                <p class='eng'>
                    My team <b>won the first place</b>.
                    The winning teams were A*STAR, Desilo, Samsung SDS, and my team, team SNU.
                    My team <b>achieved the higgest micro-AUC</b> of 0.9858, while the other teams had 0.9775, 0.9775 and 0.9745 respectively (see the table below which is from <a href="http://www.humangenomeprivacy.org/2020/agenda.html">official iDASH webpage</a>).
                    Instead, my team used more time than other teams (almost all the five minutes which was the time limit), and in consideration of this, four teams won the joint championship.
                    So, as we predicted, the improvements in the final week actually exploit more time, but it was confirmed that the accuracy was increased.
                    It was a bit bitter because time was not included in the evaluation criteria in the previous iDASH competitions.
                    But what is it, my team won the first place!
                </p>
                <a href="http://www.humangenomeprivacy.org/2020/agenda.html" target="_blank">
                    <img src='/assets/imgs/idash2020-auc-ranking.JPG' style='width:100%;margin:15px auto!important;margin-bottom:25px!important'>
                </a>
                <p class='kor'>
                    이번 iDASH 2020은 내 스스로도 꽤 많은 노력과 시간을 쏟았고, 또한 연구실 팀원들과 함께 끝마친 사실상 첫 프로젝트라는 점에서 아주 기억에 남을 것 같다. 
                    돌이켜보면, 마지막에 팀원들과 함께 밤샘코딩을 하며 연구하던 순간들은 꽤 즐거웠다.  
                    태스크가 암호학보다는 코딩에 초점이 맞춰져있어서 수학전공인 나와 팀원들에겐 꽤 도전적인 대회였는데, 성과가 좋아서 참 기쁘다. 
                    향후 코딩 측면의 강점을 더 강화하고 싶다는 다짐을 준 프로젝트였다. 
                </p>
                <p class='eng'>
                    IDASH 2020 is memorable to myself because I put a lot of effort and time into myself and it is the first project that I've finished with my lab colleagues.
                    Looking back, the moments I spent researching all night with my teammates were quite enjoyable.
                    The task was focusing on programming rather than cryptography, so it was a pretty challenging competition for me and my team, who majored in mathematics, and it was more glad to see good results.
                    It was a meaningful project for me, and it made me promise to strengthen my strength of programming in the future.
                </p>
            </section>


        </div>

        <div class='load-post-footer wide-piece _track' id='post-footer-comment'></div>
        <div class='wide-piece' id="disqus_thread"></div>
    </div>

    <!-- footer -->
    <footer class="load-footer" id='footer'></footer>


    <!-- javascript -->
    <script src= "js/jquery.js"></script>
    <script src='js/javascript.js'></script>
    <script>
        var disqus_config = function () {
        this.page.url = 'https://jaihyunp.github.io/posts/idash2020.html';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://jaihyunp.github.io/posts/idash2020.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://https-jaihyunp-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>
    <script id="dsq-count-scr" src="//https-jaihyunp-github-io.disqus.com/count.js" async></script>

</body>
